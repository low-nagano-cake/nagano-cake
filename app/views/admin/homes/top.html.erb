<%= render 'layouts/header' %>

<div class="container">
  <div class="row">
      <h2>注文履歴一覧</h2>
    <div class="col-md-6 mx-auto">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>購入日時</th>
            <th>購入者</th>
            <th>注文個数</th>
            <th>注文ステータス</th>
          </tr>
        <tbody>
          <% @orders.each do |order| %>
          <tr>
            <td><%= order.created_at.strftime('%Y/%m/%d') %></td>
            <td><%= order.customer.last_name + order.customer.first_name %></td>
            <td><%= order.count %></td>
            <td>
               <%= form_with @model:@order, method: :patch, local:true do |f| %>
                <%= f.select :status, Order.statuses.keys.map { |c| [t("enum.order.status.#{c}"), c], class: "mb-3 sm:mb-0 mr-9 border border-line-200 rounded-[3px] rounded-[3px] py-3 pl-6 w-52 h-12 font-bold" %>
                <%= f.submit "更新",class:"btn btn-primary" %>
                <% end %>
            </td>
          </tr>
          <% end %>
        </tbody>
        </thead>
      </table>
    </div>
  </div>
</div>
